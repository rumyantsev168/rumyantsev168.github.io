<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0">
    <meta name="description" content="URL special characters encoder.">
    <link rel="icon" href="assets/icons/Settings.png">
    <link rel="stylesheet" href="assets/css/stylesheet.css">
    <style>
        .results {
            display: flex;
            flex-direction: column;
            width: 100%;
        }

        .results-field {
            margin: 5px 0px;
            padding: 2px;
            font-family: Arial;
            font-size: 1rem;
            word-break: break-all;
            border: 1px solid gray;
        }
    </style>
    <title>uri encoder</title>
</head>
<body>
    <script src="assets/js/select_and_copy.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const regular_text = document.getElementById("regular-input");
            const encoded_text = document.getElementById("encoded-input");
            const encode_btn = document.getElementById("encode-btn");
            const decode_btn = document.getElementById("decode-btn");
            const copy_regular_btn = document.getElementById("regular-copy-btn");
            const copy_encoded_btn = document.getElementById("encoded-copy-btn");
            const clear_regular_btn = document.getElementById("regular-input-clear-btn");
            const clear_encoded_btn = document.getElementById("encoded-input-clear-btn");
            encode_btn.addEventListener("click", () => encode(regular_text, copy_encoded_btn));
            decode_btn.addEventListener("click", () => decode(encoded_text, copy_regular_btn));
            clear_regular_btn.addEventListener("click", () => clear_field("regular-input", "regular-copy-btn"));
            clear_encoded_btn.addEventListener("click", () => clear_field("encoded-input", "encoded-copy-btn"));
        });

        function encode(regular_text, copy_encoded_btn) {
            if (!regular_text.value) return;
            document.getElementById("encoded-input").value = `${encodeURIComponent(regular_text.value)}`;
            copy_encoded_btn.disabled = false;
            copy_encoded_btn.title = ``;
        };

        function decode(encoded_text, copy_regular_btn) {
            if (!encoded_text.value) return;
            document.getElementById("regular-input").value = `${decodeURIComponent(encoded_text.value)}`;
            copy_regular_btn.disabled = false;
            copy_regular_btn.title = ``;
        };

        function clear_field(field_id, copy_btn_id) {
            document.getElementById(field_id).value = ``;
            document.getElementById(copy_btn_id).disabled = true;
            document.getElementById(copy_btn_id).title = `Nothing to copy!`;
        };
    </script>
    <main style="max-width: 600px">
        <header>
            <center>
                <h1>URI Component Encoder/Decoder</h1>
                <hr size="1px">
            </center>
        </header>
        <form>
            <!--Encode-->
            <div>
                <small>Regular text</small>
                <textarea id="regular-input"></textarea>
                <div class="buttons">
                    <button type="button" id="encode-btn">Encode</button>
                    <button type="button" id="regular-input-clear-btn">Clear</button>
                    <button type="button" disabled title="Nothing to copy!" id="regular-copy-btn" onclick="selectTextarea('regular-input')">Copy</button>
                </div>
            </div>

            <!--Decode-->
            <div>
                <small>Encoded text</small>
                <textarea id="encoded-input"></textarea>
                <div class="buttons">
                    <button type="button" id="decode-btn">Decode</button>
                    <button type="button" id="encoded-input-clear-btn">Clear</button>
                    <button type="button" disabled title="Nothing to copy!" id="encoded-copy-btn" onclick="selectTextarea('encoded-input')">Copy</button>
                </div>
            </div>
        </form>
        <footer>
            <center><small><a href="index.html">Back to Homepage</a></small></center>
        </footer>
    </main>
</body>
</html>
